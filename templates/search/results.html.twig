{% extends 'base.html.twig' %}

{% block metatitle %}Résultats de recherche{% endblock %}

{% block body %}
    <div class="container my-5">
        <h1>Résultats de recherche pour "{{ query }}"</h1>

        {% if results.formules is empty and results.inspirations is empty and results.realisations is empty %}
            <p>Aucun résultat trouvé.</p>
        {% else %}
            {% if results.formules is not empty %}
                <h2>Formules</h2>
                <ul>
                    {% for formule in results.formules %}
                        <li>
                            <a href="{{ path('app_formule_show', {'id': formule.id}) }}">{{ formule.title }}</a>
                            <p>{{ formule.content[:150] ~ '...' }}</p>
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}

            {% if results.inspirations is not empty %}
                <h2>Inspirations</h2>
                <ul>
                    {% for inspiration in results.inspirations %}
                        <li>
                            <a href="{{ path('app_inspiration_show', {'id': inspiration.id}) }}">{{ inspiration.title }}</a>
                            <p>{{ inspiration.content[:150] ~ '...' }}</p>
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}

            {% if results.realisations is not empty %}
                <h2>Réalisations</h2>
                <ul>
                    {% for realisation in results.realisations %}
                        <li>
                            <a href="{{ path('app_realisation_show', {'id': realisation.id}) }}">{{ realisation.title }}</a>
                            <p>{{ realisation.content[:150] ~ '...' }}</p>
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endif %}
    </div>
{% endblock %}
